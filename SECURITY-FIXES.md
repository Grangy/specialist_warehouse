# üîí –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (npm audit fix)
- **next**: –û–±–Ω–æ–≤–ª–µ–Ω –¥–æ –≤–µ—Ä—Å–∏–∏ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ DoS —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- **lodash**: –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Prototype Pollution

### 2. ‚úÖ –ó–∞–º–µ–Ω–∞ xlsx –Ω–∞ exceljs
- **–ü—Ä–æ–±–ª–µ–º–∞**: xlsx –∏–º–µ–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–∏ Prototype Pollution –∏ ReDoS, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Ç
- **–†–µ—à–µ–Ω–∏–µ**: –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ `exceljs` - –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏ –∞–∫—Ç–∏–≤–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  - –£–¥–∞–ª–µ–Ω `xlsx` –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `exceljs`
  - –û–±–Ω–æ–≤–ª–µ–Ω `src/components/admin/MinusTab.tsx` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è exceljs

### 3. ‚ö†Ô∏è –û—Å—Ç–∞–≤—à–∏–µ—Å—è —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- **glob**: –£—è–∑–≤–∏–º–æ—Å—Ç—å –≤ CLI (—Ç–æ–ª—å–∫–æ –¥–ª—è dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ eslint-config-next
  - –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ production —Å–±–æ—Ä–∫—É
  - –ú–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å eslint-config-next

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–æ (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ):
```bash
# 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
npm audit fix

# 2. –ó–∞–º–µ–Ω–∞ xlsx –Ω–∞ exceljs (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
npm uninstall xlsx
npm install exceljs

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞
npm audit
npm run build
```

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd /opt/specialist_warehouse
./scripts/fix-vulnerabilities.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
```bash
cd /opt/specialist_warehouse

# 1. –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
npm audit fix

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞
npm audit

# 5. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run build

# 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PM2)
pm2 restart all
# –∏–ª–∏
systemctl restart your-service-name
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
npm audit
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ next, lodash - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ xlsx - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ exceljs
- ‚ö†Ô∏è glob - –æ—Å—Ç–∞–µ—Ç—Å—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, —Ç–æ–ª—å–∫–æ –¥–ª—è dev)

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### MinusTab.tsx
- –ó–∞–º–µ–Ω–µ–Ω –∏–º–ø–æ—Ä—Ç `xlsx` –Ω–∞ `exceljs`
- –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–¥ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ExcelJS API
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ XLSX

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –í—ã–ø–æ–ª–Ω—è–π—Ç–µ `npm audit` –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Dependabot –∏–ª–∏ Renovate
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç—è—Ö

## –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å exceljs:
```bash
npm uninstall exceljs
npm install xlsx@0.18.5
# –û—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ MinusTab.tsx —á–µ—Ä–µ–∑ git
git checkout HEAD -- src/components/admin/MinusTab.tsx
```

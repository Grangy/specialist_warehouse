# üîí –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (npm audit fix)
- **next**: –û–±–Ω–æ–≤–ª–µ–Ω –¥–æ –≤–µ—Ä—Å–∏–∏ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ DoS —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
- **lodash**: –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Prototype Pollution

### 2. ‚úÖ –ó–∞–º–µ–Ω–∞ xlsx –Ω–∞ exceljs
- **–ü—Ä–æ–±–ª–µ–º–∞**: xlsx –∏–º–µ–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–∏ Prototype Pollution –∏ ReDoS, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Ç
- **–†–µ—à–µ–Ω–∏–µ**: –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ `exceljs` - –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∏ –∞–∫—Ç–∏–≤–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  - –£–¥–∞–ª–µ–Ω `xlsx` –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `exceljs`
  - –û–±–Ω–æ–≤–ª–µ–Ω `src/components/admin/MinusTab.tsx` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è exceljs

### 3. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π glob
- **–ü—Ä–æ–±–ª–µ–º–∞**: `glob@10.2.0 - 10.4.5` –∏–º–µ–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç—å Command injection –≤ CLI
- **–†–µ—à–µ–Ω–∏–µ**: 
  - –û–±–Ω–æ–≤–ª–µ–Ω `eslint-config-next` –¥–æ –≤–µ—Ä—Å–∏–∏ `14.2.35`
  - –î–æ–±–∞–≤–ª–µ–Ω `overrides` –≤ `package.json` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `glob@^10.4.6`
- **–í–∞–∂–Ω–æ**: –£—è–∑–≤–∏–º–æ—Å—Ç—å –∫–∞—Å–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ production –∫–æ–¥

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

–ü–æ—Å–ª–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ **next** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω
- ‚úÖ **lodash** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω  
- ‚úÖ **xlsx** - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ exceljs
- ‚úÖ **glob** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ overrides

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–æ (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ):
```bash
# 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
npm audit fix

# 2. –ó–∞–º–µ–Ω–∞ xlsx –Ω–∞ exceljs (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
npm uninstall xlsx
npm install exceljs

# 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ eslint-config-next
npm install eslint-config-next@14.2.35

# 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å overrides
npm install

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞
npm audit
npm run build
```

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd /opt/specialist_warehouse
git pull origin main
./scripts/fix-vulnerabilities.sh
npm install  # –î–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è overrides
npm run build
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (pm2 restart all –∏–ª–∏ systemctl restart)
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
```bash
cd /opt/specialist_warehouse

# 1. –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—Å overrides)
npm install

# 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
npm audit fix

# 4. –ü—Ä–æ–≤–µ—Ä–∫–∞
npm audit

# 5. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
npm run build

# 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PM2)
pm2 restart all
# –∏–ª–∏ —á–µ—Ä–µ–∑ systemctl
systemctl restart your-service-name
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
npm audit
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ next, lodash - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ xlsx - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ exceljs
- ‚úÖ glob - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ overrides

–ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —É—è–∑–≤–∏–º–æ—Å—Ç–∏ glob, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–≤—è–∑–∞–Ω–æ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º npm. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ:
```bash
rm -rf node_modules package-lock.json
npm install
npm audit
```

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### package.json
- –î–æ–±–∞–≤–ª–µ–Ω `overrides` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ glob
- –û–±–Ω–æ–≤–ª–µ–Ω `eslint-config-next` –¥–æ `14.2.35`

### MinusTab.tsx
- –ó–∞–º–µ–Ω–µ–Ω –∏–º–ø–æ—Ä—Ç `xlsx` –Ω–∞ `exceljs`
- –û–±–Ω–æ–≤–ª–µ–Ω –∫–æ–¥ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ExcelJS API
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ XLSX

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –í—ã–ø–æ–ª–Ω—è–π—Ç–µ `npm audit` –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Dependabot –∏–ª–∏ Renovate
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç—è—Ö
4. **Overrides**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `overrides` –≤ package.json –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

## –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:
```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ package.json
git checkout HEAD -- package.json

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
rm -rf node_modules package-lock.json
npm install
```

## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –æ glob

–£—è–∑–≤–∏–º–æ—Å—Ç—å –≤ `glob` –∫–∞—Å–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (`glob -c` –∫–æ–º–∞–Ω–¥–∞), –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ. –≠—Ç–æ dev –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ production –∫–æ–¥. –û–¥–Ω–∞–∫–æ –º—ã –∏—Å–ø—Ä–∞–≤–∏–ª–∏ –µ—ë –¥–ª—è –ø–æ–ª–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
